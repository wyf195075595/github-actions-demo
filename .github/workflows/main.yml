# This is a basic workflow to help you get started with Actions 这是一个基本的工作流程，可以帮助您开始行动

name: GitHub Actions Build and Deploy Demo

# Controls when the workflow will run 控制工作流何时运行
on:
  # Triggers the workflow on push or pull request events but only for the master branch 在推送或拉送请求事件上触发工作流，但仅适用于主分支
  push:
    branches: [ master ]
 # pull_request:
 #   branches: [ master ]

  # Allows you to run this workflow manually from the Actions tab 允许您从“操作”选项卡手动运行此工作流
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel 工作流运行由一个或多个可以顺序或并行运行的作业组成
jobs:
  # 此工作流包含一个名为“build-and-deploy”的作业
  build-and-deploy:
    # 作业将在其上运行的运行程序类型 ubuntu 最后一个版本
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job 步骤表示将作为作业一部分执行的任务序列
    steps:
    - name: Checkout
      uses: actions/checkout@master

    - name: Build and Deploy
      uses: JamesIves/github-pages-deploy-action@master
      env:
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
        BRANCH: gh-pages
        FOLDER: build
        BUILD_SCRIPT: npm install && npm run build
